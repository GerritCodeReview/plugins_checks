<!-- <link rel="import" href="gr-create-checks-dialog.html"> -->

<dom-module id="gr-checks-list">
  <template>
    <style include="shared-styles"></style>
    <style include="gr-table-styles"></style>  
    <gr-list-view
        create-new=[[_createNewCapability]]
        on-create-clicked="_handleCreateClicked"
        filter="[[_filter]]"
        items-per-page="[[_checksPerPage]]"
        items="[[_shownChecks]]"
        loading="[[_loading]]"
        path="[[_path]]"
        offset="[[_offset]]">
      <table id="list" class="genericList">
        <tr class="headerRow">
          <th class="name topHeader">Checker Name</th>
          <th class="name topHeader">Repository</th>
          <th class="name topHeader">Status</th>
          <th class="name topHeader">Required</th>
          <th class="description topHeader">Checker Description</th>
        </tr>
        <tbody class$="[[computeLoadingClass(_loading)]]">
          <template is="dom-repeat" items="[[_shownChecks]]">
            <tr class="table">
              <td class="name">
                <a href$="[[_computeRepoUrl(item.name)]]">[[item.name]]</a>
              </td>
              <td class="name">[[item.repository]]</td>
              <td class="name">[[item.status]]</td>
              <td class="name">[[computeBlocking(item)]]</td>
              <td class="description">[[item.description]]</td>
            </tr>
          </template>
        </tbody>
      </table>
    </gr-list-view>
    <gr-overlay id="createOverlay" with-backdrop>
      <gr-dialog
          id="createDialog"
          class="confirmDialog"
          confirm-label="Create"
          on-confirm="_handleCreateChecker"
          on-cancel="_handleCloseCreate">
        <div class="header" slot="header">
          Create Checkers
        </div>
        <div class="main" slot="main">
          <gr-create-checks-dialog
              params="[[params]]"
              on-cancel="_handleOnCancel"
              id="createNewModal"></gr-create-checks-dialog>
        </div>
      </gr-dialog>
    </gr-overlay>
    <gr-rest-api-interface id="restAPI"></gr-rest-api-interface>
  </template>
  <script src="gr-checks-list.js"></script>
</dom-module>
